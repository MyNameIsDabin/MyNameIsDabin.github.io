<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>=== 쓰세요 | 초긍정 개발자 다빈</title>
<meta name="generator" content="Jekyll v3.8.6" />
<meta property="og:title" content="=== 쓰세요" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="== 와 === 연산자에 대한 오해" />
<meta property="og:description" content="== 와 === 연산자에 대한 오해" />
<link rel="canonical" href="/javascript/2019/08/14/00.html" />
<meta property="og:url" content="/javascript/2019/08/14/00.html" />
<meta property="og:site_name" content="초긍정 개발자 다빈" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-08-14T18:16:00+00:00" />
<script type="application/ld+json">
{"url":"/javascript/2019/08/14/00.html","headline":"=== 쓰세요","dateModified":"2019-08-14T18:16:00+00:00","datePublished":"2019-08-14T18:16:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"/javascript/2019/08/14/00.html"},"description":"== 와 === 연산자에 대한 오해","@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<script src="/assets/js/d3.min.js"></script>
  <link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="초긍정 개발자 다빈" /><script src="/assets/js/main.js"></script>
</head><body><header class="site-header">

  <div class="wrapper"><div class="title-header">
      <img class="profile-logo" src="/images/thumbnail0.png"></img>
      <a class="site-title" rel="author" href="/">초긍정 개발자 다빈</a>
    </div>

    <nav class="site-nav">
      
      
      
      
      
      <a href="/" class="active">소개</a>
      
      
      
      
      
      <a href="/recently" class="">최신 글</a>
      
      
      
      
      
      <a href="/category-list" class="">글 묶음</a>
      
      <span class="current-bar">
    </nav>
  </div>
</header><main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">=== 쓰세요</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2019-08-14T18:16:00+00:00" itemprop="datePublished">Aug 14, 2019
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h4 id="-와--연산자에-대한-오해">== 와 === 연산자에 대한 오해</h4>
<p>== 연산자와 === 연산자는 모두 자바스크립트에서 동등함을 비교할 때 사용합니다.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">100</span><span class="dl">"</span> <span class="o">==</span> <span class="mi">100</span><span class="p">);</span> <span class="c1">// true</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">100</span><span class="dl">"</span> <span class="o">===</span> <span class="mi">100</span><span class="p">);</span> <span class="c1">// false</span>
</code></pre></div></div>
<p>이 둘의 차이점을 당장 급하게 이해하고 싶다면 위의 예제 하나로 충분합니다.</p>

<p><strong>== 연산자는 값이 동등한지만 확인하고 === 연산자는 값이 동등하고, 타입까지 동등한지 비교합니다</strong></p>

<p>이 설명은 정확하지 않지만 시간이 없는 개발자들에게 빠른 이해를 돕게 하는 가성비 좋은 설명이라고는 생각합니다. 그렇다면 이 글을 느긋하게 커피 한잔 마시면서 천천히 읽어도 시간이 남아도는 개발자들이라면 이 연산자에 대한 좀 더 자세한 내용을 알아두실 필요가 있겠네요. 사실 두 연산자의 진짜 차이점은 단순히 타입까지 동등한지 비교하는 것이 아닌, 우리 몰래 암묵적으로 형 변환을 허용하는가 입니다.</p>

<p><strong>== 연산자는 암묵적 형 변환을 허용하고 === 연산자는 암묵적 형 변환을 허용하지 않습니다</strong></p>

<p>이제는 위와같이 정의할 수 있겠네요.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">100</span><span class="dl">"</span> <span class="o">==</span> <span class="mi">100</span><span class="p">);</span> <span class="c1">// 실제로는 (Number("100") === 100) 로 비교함.</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">100</span><span class="dl">"</span> <span class="o">===</span> <span class="mi">100</span><span class="p">);</span>
</code></pre></div></div>
<p>다시 위의 예제를 살펴볼까요? == 연산자의 경우 개발자 몰래 비교할 때 암묵적으로 형 변환을 진행하기 때문에 위와 같이 문자열과 숫자를 비교하는 경우에 문자열을 숫자로 형 변환한 후 비교를 진행하기 때문에 결과는 true가 됩니다.</p>

<h4 id="-연산자의-문제점">== 연산자의 문제점</h4>

<p>이 포스트의 제목을 ‘=== 쓰세요’ 라고 지은 이유는 사실 여러분들에게 === 연산자를 쓰라고 강제하고 싶은 마음보다는 == 연산자가 가지고 있는 단점을 피하는 가장 쉬운 방법은 그냥 === 연산자를 사용하는 것이기 때문입니다. 다음 문제점을 살펴봅시다.</p>

<h5 id="복잡한-형변환-규칙">복잡한 형변환 규칙</h5>

<p>개발자 몰래 형 변환하는 것 까진 좋은데 이 규칙 자체가 워낙 복잡한데다가 지멋대로 일때가 많습니다. 애초에 == 연산자의 진짜 이름이 추상적 동등비교 인 것 부터 코드의 가독성과는 조금 먼 이야기라는게 느껴집니다.</p>

<p><img src="/images/post/2019-08-15-00/0.png" alt="&quot;추상적 동등비교&quot;" /></p>

<p>위는 <a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Equality_comparisons_and_sameness">Equality_comparisons_and_sameness</a> 에서 확인할 수 있는 추상적 동등비교(==)를 사용했을 때 발생하는 형변환을 정리해 놓은 표 입니다. 이 표를 달달 외우고 다닐 개발자가 몇이나 될지는 모르겠습니다.</p>

<h5 id="예상하기-어려운-형-변환">예상하기 어려운 형 변환</h5>

<p>당신이 결벽이 심한 개발자라서 복잡한 표를 전부 달달 외웠더라도 형 변환을 쉽게 예측하는건 어렵습니다. 자바스크립트의 암묵적 형변환에 대한 특이 사례(물론 제대로 짚고 넘어가면 합리적일테지만)는 여러 존재하지만 그 중 몇개를 추려보았습니다.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">Array</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">==</span><span class="dl">"</span><span class="s2">,,</span><span class="dl">"</span><span class="p">);</span> <span class="c1">// true</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">([</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span> <span class="c1">// false</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">([]</span> <span class="o">==</span> <span class="o">!</span><span class="p">[]);</span> <span class="c1">// true</span>
</code></pre></div></div>

<p>흠.. 그렇습니다. 이해하기 힘들겠지만 자바스크립트 입장에서는 나름 합리적인 형변환이 이루어집니다. 굳이 어떻게 형 변환 되는지 살펴보자면 첫번째 라인의 경우 일단 배열의 경우 toPrimitive 정의에 의해서 배열은 문자열로 형 변환 됩니다. 때문에 Array(3)은 String(Array(3))로 형 변환 되면서 “,,” 가 되고, 결과적으로 true로 비교됩니다. 그렇다면 두번째 라인은 어떨까요?</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">0</span><span class="dl">"</span> <span class="o">==</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">);</span> <span class="c1">//true</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">new</span> <span class="nb">String</span><span class="p">(</span><span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">)</span> <span class="o">==</span> <span class="k">new</span> <span class="nb">String</span><span class="p">(</span><span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">));</span> <span class="c1">//false</span>
</code></pre></div></div>

<p>두번째 라인의 경우 문자열로 형 변환 되는 두 “0” 이 리터럴인지 아닌지를 생각하면 됩니다. 배열 [0] 이 문자열로 형 변환 될 때 리터럴이 아닌 위 예제에서의 후자의 경우처럼 만들어지기 때문에 false가 됩니다.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">([]</span> <span class="o">==</span> <span class="o">!</span><span class="p">[]);</span> <span class="c1">// [] == false</span>
</code></pre></div></div>

<p>세번째 라인의 경우 동등비교 이전에 위와같이 ! 연산자로 인해서 Boolean 으로 변환되어 비교된다는걸 잊지 않는다면 추론할 수 있습니다.</p>

<h4 id="-쓰세요">=== 쓰세요</h4>

<p>암묵적 형 변환은 속사정을 들어보면 나름 합리적이지만 예측하기 어려운게 사실입니다. 대부분의 경우 여러분의 예상대로 작동하겠지만 결국 버그는 예측하지 못하는 상황에서 발생합니다. 다시 말하지만 == 연산자의 동작방식을 정확히 이해하지 못하겠다면 그냥 피하는게 답입니다.</p>

  </div>

  
  <div id="disqus_thread"></div>
  <script>
  
  /**
  *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
  *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
  /*
  var disqus_config = function () {
  this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
  this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
  };
  */
  (function() { // DON'T EDIT BELOW THIS LINE
  var d = document, s = d.createElement('script');
  s.src = 'https://mynameisdabin.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                              
  <a class="u-url" href="/javascript/2019/08/14/00.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <div class="wrapper">  
    <div class="social-links"><!-- Refer to https://codepen.io/ruandre/pen/howFi -->
<ul class="svg-icon">

    
  
    
  
    
  
    
  
    
  
    
    <li><a href="https://github.com/MyNameIsDabin" class="icon-13 github" title="GitHub"><svg viewBox="0 0 512 512"><path d="M256 70.7c-102.6 0-185.9 83.2-185.9 185.9 0 82.1 53.3 151.8 127.1 176.4 9.3 1.7 12.3-4 12.3-8.9V389.4c-51.7 11.3-62.5-21.9-62.5-21.9 -8.4-21.5-20.6-27.2-20.6-27.2 -16.9-11.5 1.3-11.3 1.3-11.3 18.7 1.3 28.5 19.2 28.5 19.2 16.6 28.4 43.5 20.2 54.1 15.4 1.7-12 6.5-20.2 11.8-24.9 -41.3-4.7-84.7-20.6-84.7-91.9 0-20.3 7.3-36.9 19.2-49.9 -1.9-4.7-8.3-23.6 1.8-49.2 0 0 15.6-5 51.1 19.1 14.8-4.1 30.7-6.2 46.5-6.3 15.8 0.1 31.7 2.1 46.6 6.3 35.5-24 51.1-19.1 51.1-19.1 10.1 25.6 3.8 44.5 1.8 49.2 11.9 13 19.1 29.6 19.1 49.9 0 71.4-43.5 87.1-84.9 91.7 6.7 5.8 12.8 17.1 12.8 34.4 0 24.9 0 44.9 0 51 0 4.9 3 10.7 12.4 8.9 73.8-24.6 127-94.3 127-176.4C441.9 153.9 358.6 70.7 256 70.7z"/></svg><!--[if lt IE 9]><em>GitHub</em><![endif]--></a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
  </ul></div>
  </div>
</footer></body>

</html>